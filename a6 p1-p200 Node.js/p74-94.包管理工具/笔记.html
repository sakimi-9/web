<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../p33-p40.HTTP协议/img_style.css">
    <link rel="stylesheet" href="../p32.path模块/table style.css">
    <style>
        table,
        td {
            padding: 20px;
        }
    </style>
</head>

<body>
    <h2>包管理工具</h2>
    <span>笔记看 <a href="./包管理工具.pdf">包管理工具的资料</a> 就够了 </span>
    <table>
        <tr>
            <td>
                <h3>一些重要的 要注意一点的 知识点</h3>
            </td>
        </tr>
        <tr>
            <td><strong>下载依赖(npm工具包) 网站 <a href="https://www.npmjs.com/">npmjs</a></strong></td>
        </tr>
        <tr>
            <td>初始化文件夹使其称为工作目录 终端运行 npm init 或者 npm init -y 快速初始化 注意命名规则</td>
        </tr>
        <tr>
            <td>require导入依赖 <br>
                下载到npm init初始化的文件夹，然后在这个文件夹下下载依赖，下载完也就成了这个文件夹的内置模块 <br>
                所以 用导入内置模块的方式 如果向导入自定义模块那样，写相对路径，那么require就不会向上级再向下找了，不够灵活</td>
        </tr>
        <tr>
            <td>生产依赖与开发依赖
                <br> dev 开发 devDenpendencies 开发依赖(包) 只在开发阶段用 <br>
                dependencies (生产)依赖(包) 开发与生产阶段都要用 <br>
                下载依赖时 默认 npm i -S 包 为生产依赖 <br>
                要清楚这个依赖到底是哪种依赖关系 下载时可以查看文档说明 或者用默认的
            </td>
        </tr>
        <tr>
            <td>全局安装nodemon: npm i -g nodemon <br><br>
                node 文件路径 => nodemon 文件路径 使用这个命令运行<br>
                每次修改nodejs环境下的js文件 都会 自动重启nodejs <br>
                也就是 不用每次都 关停 重启 才能看到 修改代码后的修改，只用浏览器重新发送请求就行</td>
        </tr>
        <!-- 全局安装有问题的 目前遇到这两种常见的 以nodemon为例，解决进行了
        nodemon全局安装完后，使用报错 未识别到nodemon 是因为没有进行 修改 windows 执行策略，
         如果还报错 0x5拒绝 未调入签名 ，是因为没有进行环境变量配置/配置错误
         进行环境变量配置 
         环境变量配置是配置 如 C:\Users\acer\.local\nodemon 到path里面
         不是 C:\Users\acer\.local\nodemon\bin 这个里面根本就没有package.json文件，执行不了，所以还会报错-->
        <tr>
            <td>按照依赖声明安装全部依赖<br><br>
                跟代码托管仓库有关(git,码云等等)拉取项目后安装相关依赖 <br>
                在 项目协作 中有一个常用的命令就是 npm i <br>
                通过该命令可以依据 package.json 和 package-lock.json 的依赖声明安装项目依赖<br><br>
                因为
                node_modules 文件夹大多数情况都不会存入版本库(代码仓库) <br>
                <ol>命令
                    <li>npm i</li>
                    <li>npm install</li>
                </ol>
            </td>
        </tr>
        <tr>
            <td>npm配置执行命令别名<br><br>
                原来的执行命令 node 文件路径(有的还有相关较多参数)，输入起来比较麻烦 现在可以改成 其他的，<br>
                配置 package.json 中的 scripts 属性,如果没有scripts属性，则需要自己配置
                {<br>
                .<br>
                .<br>
                .<br>
                "scripts": {<br>
                "server": "node index.js",//文件路径及相关参数<br>
                "start": "node index.js",<br>
                },<br>
                .<br>
                .<br>
                }<br>
                配置完成之后，可以使用别名执行命令<br>
                npm run server <br>
                npm run start <br>
                不过 start 别名比较特别，使用时可以省略 run <br><br>
                补充说明：<br>
                npm start 是项目中常用的一个命令，一般用来启动项目<br>
                npm run 有自动向上级目录查找的特性，跟 require 函数也一样，这样文件夹层级较多时,只有一个node-modules包也可以运行<br>
                对于陌生的项目，我们可以通过查看 scripts 属性来参考项目的一些操作<br> </td>
        </tr>
        <tr>
            <td>cnpm 安装<br><br>
                npm install -g cnpm --registry=https://registry.npmmirror.com <br>
                安装之后可以用cnpm代替npm,命令上，大体相同，比如，工作目录初始化 cnpm init</td>
        </tr>
        <tr>
            <td>yarn <br><br>
                安装：npm i -g yarn
                <img src="./资料图片/yarn 常用命令.png" alt="">
                图片下面那个题，进行环境变量配置 yarn global bin获取全局安装位置，把结果塞入path <br>
                跟npm全局安装依赖却无法使用的解决方法一样<br><br>
                下载速度太慢，那就切换成淘宝mirror的yarn
            </td>
        </tr>
        <tr>
            <td>nvm <br><br>
                nvm（Node Version Manager）是一个用于管理多个 Node.js 版本的工具。它允许你轻松地在不同的项目中使用不同的 Node.js 版本，而不需要重新安装系统级的
                Node.js。<br><br>
                <a href="./nvm软件与命令/nvm常用命令.md">一些常用的nvm命令</a><br>
                <a href="https://github.com/coreybutler/nvm-windows">nvm-windows在github的下载地址</a><br>
                也可以去文件夹里把<a href="./nvm软件与命令/nvm-setup.exe">安装包程序</a>加载了
            </td>
        </tr>
        <tr>
            <td>关于 工作目录初始化操作 cnpm init <br>
                看好下面的笔记,别犯这种错误了,否则这种意外错误有得受了 </td>
            <td>如果这个工作目录要从0开始搭建项目,那就进行初始化操作 cnpm init <br><br>
                如果这个工作目录是要复制其他模块代码来进行代码复用,那就不要初始化操作了,否则(猜测)复制来的代码package.json的包名与初始化后的工作目录的包名不同,会导致异常错误 <br><br><br>
                运行项目时,是要在工作目录上运行,也就是子级有package.json文件的这个文件夹,否则运行时找不到package.js文件会报错
            </td>
        </tr>
    </table>
</body>

</html>