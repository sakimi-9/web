Axios 核心知识点总结

前提：
要使用axios,ajax的请求库，则一般需要从GitHub上以CDN的方式通过script标签引入


1. 基本概念
定义：Axios 是一个基于 Promise 的 HTTP 客户端，用于浏览器和 Node.js 中发送 HTTP 请求。
特点：
支持浏览器和 Node.js 环境。
基于 Promise，支持 async/await。
支持多种 HTTP 请求方法（GET、POST、PUT、DELETE 等）。
支持请求和响应拦截器。
支持取消请求和超时处理。
支持并发请求（axios.all 和 axios.spread）。

2. 请求方法
GET 请求：用于从服务器获取数据。
POST 请求：用于向服务器发送数据，通常用于创建资源。
PUT 请求：用于更新服务器上的资源。
DELETE 请求：用于删除服务器上的资源。
其他方法：如 PATCH、HEAD 等，用于特定场景。

错误处理
Axios 提供统一的错误处理机制，可以通过 catch 捕获错误。
错误对象包含 message、response、request 等属性，方便调试。

3. 请求与响应拦截器 
请求拦截器：
在请求发送前对请求配置进行处理，例如添加请求头、修改请求参数等。
可用于全局配置，如添加认证令牌。
响应拦截器：
在响应返回后对响应数据进行处理，例如统一处理错误、格式化数据等。
可用于全局处理后端返回的错误或数据格式。

4. 配置与选项
请求配置：包括 URL、请求方法、请求头、请求体、超时时间等。
全局配置：可以通过 axios.defaults 设置全局默认配置。
实例化 Axios：可以通过 axios.create() 创建一个新的 Axios 实例，自定义配置。

区别：
配置复用：实例化后，所有通过该实例发起的请求都会继承预设的配置，无需重复设置。
灵活性：直接使用 axios 更灵活，适合单次请求；实例化后更适合多次请求。
总结来说，Axios 的配置选项提供了强大的灵活性，而实例化 Axios 则更适合需要复用配置的场景。

超时处理
设置请求的最大等待时间，避免请求长时间无响应。
可以通过 timeout 配置项设置超时时间。

跨域请求
Axios 本身不直接处理跨域问题，但可以通过配置服务器端(后端)的 CORS 中间件或使用前端代理解决跨域问题。
也可以将 跨域请求头 设置在axios配置中。

5. 取消请求
提供取消请求的机制，避免不必要的资源浪费。
可以通过 CancelToken 或 AbortController（浏览器原生）实现取消请求。


6. 并发请求
使用 axios.all 和 axios.spread 同时发送多个请求，并在所有请求完成后统一处理。
适用于需要同时加载多个资源的场景。


其他
axios要实现流式处理数据，
要间接通过底层的 XMLHttpRequest 或 Node.js 的流实现流式处理，但不如 fetch 原生自带的直接

选择 fetch 的场景：现代浏览器和 Node.js 环境、对原生 API 有偏好、需要流式处理数据、项目对性能和体积有严格要求。
选择 axios 的场景：需要全局配置创建实例，需要丰富功能（如拦截器、超时控制）、统一错误处理、跨浏览器兼容性、复杂的数据处理需求。